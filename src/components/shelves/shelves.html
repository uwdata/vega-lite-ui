<div class="card shelves no-top-margin no-right-margin abs-100">
  <a class="right"  ng-click="clear()"><i class="fa fa-eraser"></i> Clear</a>
  <h2>Encoding</h2>

  <div class="shelf-pane shelf-encoding-pane full-width">
    <h3>Positional</h3>
    <channel-shelf
      channel-id="'x'"
      preview="preview"
      encoding="spec.encoding"
      mark="spec.mark">
    </channel-shelf>
    <channel-shelf
      channel-id="'y'"
      preview="preview"
      encoding="spec.encoding"
      mark="spec.mark">
    </channel-shelf>
    <channel-shelf
      channel-id="'column'"
      preview="preview"
      encoding="spec.encoding"
      mark="spec.mark"
      disabled="!spec.encoding.x.field">
    >
    </channel-shelf>
    <channel-shelf
      channel-id="'row'"
      preview="preview"
      encoding="spec.encoding"
      mark="spec.mark"
      disabled="!spec.encoding.y.field">
    </channel-shelf>
  </div>
  <div class="shelf-pane shelf-marks-pane full-width">
    <div class="right">
      <select class="markselect" ng-model="spec.mark"
              ng-options="(type === ANY ? 'auto' : type) for type in (supportAny ? marksWithAny : marks)"
              ng-change="markChange()"></select>
    </div>
    <h3>Marks</h3>

    <channel-shelf channel-id="'size'"
      preview="preview"
      encoding="spec.encoding"
      mark="spec.mark">
    </channel-shelf>
    <channel-shelf channel-id="'color'"
      preview="preview"
      encoding="spec.encoding"
      mark="spec.mark">
    </channel-shelf>
    <channel-shelf channel-id="'shape'"
      preview="preview"
      encoding="spec.encoding"
      mark="spec.mark">
    </channel-shelf>
    <channel-shelf channel-id="'detail'"
      preview="preview"
      encoding="spec.encoding"
      mark="spec.mark">
    </channel-shelf>
    <channel-shelf channel-id="'text'"
      preview="preview"
      encoding="spec.encoding"
      mark="spec.mark">
    </channel-shelf>
  </div>

  <div class="shelf-pane shelf-any-pane full-width" ng-if="supportAny && !preview">
    <h3>Automatic</h3>
    <channel-shelf
      ng-repeat="channelId in anyChannelIds"
      preview="preview"
      channel-id="channelId"
      encoding="spec.encoding"
      mark="spec.mark">
    </channel-shelf>
  </div>

  <!-- TODO support filter -->

  <!-- <div class="shelf-pane shelf-config-pane full-width">
    <h3>Config</h3>
    <null-filter-directive></null-filter-directive>
  </div> -->
</div>